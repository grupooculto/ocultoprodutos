const produtos = [
  { nome: 'Longbook', limpo: 40, sujo: 52, limpoParc: 30, sujoParc: 39 },
  { nome: 'Macbook', limpo: 40, sujo: 52, limpoParc: 30, sujoParc: 39 },
  { nome: 'Spotify', limpo: 25, sujo: 32.5, limpoParc: 18.75, sujoParc: 24.38 },
  { nome: 'Netflix', limpo: 30, sujo: 39, limpoParc: 22.5, sujoParc: 29.25 },
  { nome: 'HBO Max', limpo: 20, sujo: 26, limpoParc: 15, sujoParc: 19.5 },
  { nome: 'Paramount', limpo: 15, sujo: 19.5, limpoParc: 11.25, sujoParc: 14.63 },
  { nome: 'Crunchyroll', limpo: 20, sujo: 26, limpoParc: 15, sujoParc: 19.5 }
];

const tbody = document.getElementById('produtos');

produtos.forEach((produto, index) => {
  const tr = document.createElement('tr');

  tr.innerHTML = `
    <td>${produto.nome}</td>
    <td>R$ ${produto.limpo.toFixed(2).replace('.', ',')}</td>
    <td>R$ ${produto.sujo.toFixed(2).replace('.', ',')}</td>
    <td>R$ ${produto.limpoParc.toFixed(2).replace('.', ',')}</td>
    <td>R$ ${produto.sujoParc.toFixed(2).replace('.', ',')}</td>
    <td><input type="number" min="0" value="0" onchange="calcularTotal()"></td>
  `;

  tbody.appendChild(tr);
});

const totalContainer = document.createElement('div');
totalContainer.classList.add('total-container');
totalContainer.innerHTML = `
  <h2>Total dos Produtos</h2>
  <p id="totalLimpo">Total Limpo: R$ 0,00</p>
  <p id="totalSujo">Total Sujo: R$ 0,00</p>
  <p id="totalLimpoParc">Total Limpo Parceiro: R$ 0,00</p>
  <p id="totalSujoParc">Total Sujo Parceiro: R$ 0,00</p>
`;

document.body.appendChild(totalContainer);

function calcularTotal() {
  const inputs = document.querySelectorAll('input[type="number"]');

  let totalLimpo = 0;
  let totalSujo = 0;
  let totalLimpoParc = 0;
  let totalSujoParc = 0;

  inputs.forEach((input, index) => {
    const quantidade = parseInt(input.value) || 0;
    totalLimpo += produtos[index].limpo * quantidade;
    totalSujo += produtos[index].sujo * quantidade;
    totalLimpoParc += produtos[index].limpoParc * quantidade;
    totalSujoParc += produtos[index].sujoParc * quantidade;
  });

  document.getElementById('totalLimpo').innerText = `Total Limpo: R$ ${totalLimpo.toFixed(2).replace('.', ',')}`;
  document.getElementById('totalSujo').innerText = `Total Sujo: R$ ${totalSujo.toFixed(2).replace('.', ',')}`;
  document.getElementById('totalLimpoParc').innerText = `Total Limpo Parceiro: R$ ${totalLimpoParc.toFixed(2).replace('.', ',')}`;
  document.getElementById('totalSujoParc').innerText = `Total Sujo Parceiro: R$ ${totalSujoParc.toFixed(2).replace('.', ',')}`;
}
